{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SeapoPym Documentation","text":"<p>Welcome to the SeapoPym documentation! SeapoPym is a Python implementation of the SEAPODYM (Spatial Ecosystem And POpulation DYnamics Model) focusing on low and mid trophic levels of marine ecosystems.</p>"},{"location":"#overview","title":"Overview","text":"<p>SeapoPym provides a flexible framework for simulating spatial ecosystem dynamics using modern Python tools:</p> <ul> <li>Modern Python stack: Built with Xarray, Dask, and Numba for high-performance computing</li> <li>High-performance computing: Numba JIT compilation for efficient numerical computations</li> <li>Parallel processing: Dask support for large-scale simulations</li> <li>CF-compliant data: Xarray-based structures with pint-xarray for units</li> <li>Scientific reproducibility: Production-quality code accompanying our GMD publication</li> </ul>"},{"location":"#the-no-transport-model","title":"The No-Transport Model","text":"<p>This documentation focuses on the No-Transport Model, which simulates local ecosystem dynamics without advection. This model is ideal for:</p> <ul> <li>Understanding fundamental ecosystem processes</li> <li>1D vertical simulations</li> <li>Parameter sensitivity studies</li> <li>Learning the SeapoPym framework</li> </ul> <p>Get Started \u2192</p>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>from seapopym.model import NoTransportModel\n\n# Configure and run model\nmodel = NoTransportModel(config)\nresults = model.run()\n\n# Analyze results\nbiomass = results['biomass']\nbiomass.plot()\n</code></pre> <p>Full Tutorial \u2192</p>"},{"location":"#citation","title":"Citation","text":"<p>If you use SeapoPym in your research, please cite:</p> <pre><code>@article{lehodey2026seapopym,\n  title={SeapoPym v0.1: Implementation of the SEAPODYM low and mid trophic levels in Python with a flexible optimisation framework},\n  author={Lehodey, J.V.},\n  journal={Geoscientific Model Development},\n  year={2026}\n}\n</code></pre>"},{"location":"#license","title":"License","text":"<p>SeapoPym is open-source software licensed under the GNU General Public License v3.0 or later (GPLv3+).</p>"},{"location":"#support","title":"Support","text":"<ul> <li>\ud83d\udcda Documentation</li> <li>\ud83d\udcac GitHub Discussions</li> <li>\ud83d\udc1b Issue Tracker</li> </ul>"},{"location":"HOW_TO_ADD_CONTENT/","title":"How to Add Content to the Documentation","text":"<p>This guide explains how to add notebooks, scripts, and images to the SeapoPym documentation.</p>"},{"location":"HOW_TO_ADD_CONTENT/#directory-structure","title":"Directory Structure","text":"<pre><code>docs/\n\u251c\u2500\u2500 notebooks/        # Jupyter notebooks\n\u251c\u2500\u2500 scripts/          # Python scripts\n\u251c\u2500\u2500 images/           # Figures and images\n\u2514\u2500\u2500 *.md              # Markdown pages\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#adding-jupyter-notebooks","title":"Adding Jupyter Notebooks","text":""},{"location":"HOW_TO_ADD_CONTENT/#1-create-your-notebook","title":"1. Create Your Notebook","text":"<p>Place your <code>.ipynb</code> file in <code>docs/notebooks/</code>:</p> <pre><code># Example notebook structure\ndocs/notebooks/\n\u2514\u2500\u2500 basic_example.ipynb\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#2-include-in-documentation","title":"2. Include in Documentation","text":"<p>Option A: Link from Markdown</p> <pre><code>See the complete example: [Basic Model Tutorial](notebooks/basic_example.ipynb)\n</code></pre> <p>Option B: Add to Navigation (mkdocs.yml)</p> <pre><code>nav:\n  - Examples:\n      - Basic Tutorial: notebooks/basic_example.ipynb  # Direct notebook\n</code></pre> <p>The notebook will be rendered as an interactive page with: - Code cells with syntax highlighting - Output cells (plots, tables, etc.) - Markdown cells as formatted text</p>"},{"location":"HOW_TO_ADD_CONTENT/#3-best-practices","title":"3. Best Practices","text":"<ul> <li>Clear all outputs before committing: <code>Cell \u2192 All Output \u2192 Clear</code></li> <li>Add markdown cells to explain each step</li> <li>Include visualizations</li> <li>Keep notebooks focused (one topic per notebook)</li> </ul>"},{"location":"HOW_TO_ADD_CONTENT/#adding-python-scripts","title":"Adding Python Scripts","text":""},{"location":"HOW_TO_ADD_CONTENT/#1-create-your-script","title":"1. Create Your Script","text":"<p>Place your <code>.py</code> file in <code>docs/scripts/</code>:</p> <pre><code>docs/scripts/\n\u2514\u2500\u2500 run_model.py\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#2-include-in-documentation_1","title":"2. Include in Documentation","text":"<p>Full Script Inclusion:</p> <pre><code>```python title=\"scripts/run_model.py\"\n```\n</code></pre> <p>Partial Inclusion (specific lines):</p> <pre><code>```python title=\"scripts/run_model.py\" hl_lines=\"3-5\"\n```\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#3-example","title":"3. Example","text":"<p>Script: <code>docs/scripts/run_basic_model.py</code></p> <pre><code>\"\"\"\nBasic SeapoPym model example.\n\"\"\"\nimport xarray as xr\nfrom seapopym.model import NoTransportModel\n\ndef main():\n    # Load data\n    forcing = xr.open_dataset('forcing.nc')\n\n    # Configure model\n    model = NoTransportModel(config)\n\n    # Run\n    results = model.run()\n    print(results)\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>In Documentation:</p> <pre><code>Here's a complete example:\n\n```python title=\"scripts/run_basic_model.py\"\n```\n\nRun it with:\n\n```bash\npython docs/scripts/run_basic_model.py\n```\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#adding-images-and-figures","title":"Adding Images and Figures","text":""},{"location":"HOW_TO_ADD_CONTENT/#1-add-your-image","title":"1. Add Your Image","text":"<p>Place images in <code>docs/images/</code>:</p> <pre><code>docs/images/\n\u251c\u2500\u2500 biomass_timeseries.png\n\u251c\u2500\u2500 model_schematic.svg\n\u2514\u2500\u2500 spatial_distribution.png\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#2-include-in-documentation_2","title":"2. Include in Documentation","text":"<p>Basic Image:</p> <pre><code>![Biomass time series](images/biomass_timeseries.png)\n</code></pre> <p>Image with Caption:</p> <pre><code>&lt;figure markdown&gt;\n  ![Model schematic](images/model_schematic.svg)\n  &lt;figcaption&gt;Figure 1: Schematic representation of the No-Transport model&lt;/figcaption&gt;\n&lt;/figure&gt;\n</code></pre> <p>Image with Custom Size:</p> <pre><code>&lt;img src=\"images/model_schematic.svg\" alt=\"Model diagram\" width=\"600\"/&gt;\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#3-best-practices_1","title":"3. Best Practices","text":"<ul> <li>Use descriptive filenames: <code>biomass_comparison.png</code> not <code>fig1.png</code></li> <li>Prefer vector formats (SVG) for diagrams and schematics</li> <li>Use PNG for plots and raster images</li> <li>Optimize file sizes (compress images before adding)</li> <li>Always include alt text for accessibility</li> </ul>"},{"location":"HOW_TO_ADD_CONTENT/#inline-code-examples","title":"Inline Code Examples","text":"<p>For short snippets directly in markdown:</p> <pre><code>```python\nfrom seapopym.model import NoTransportModel\n\nmodel = NoTransportModel(config)\nresults = model.run()\n```\n</code></pre> <p>With title and line highlights:</p> <pre><code>```python title=\"example.py\" hl_lines=\"2-3\"\nfrom seapopym.model import NoTransportModel\n\nmodel = NoTransportModel(config)\nresults = model.run()\n```\n</code></pre>"},{"location":"HOW_TO_ADD_CONTENT/#live-preview","title":"Live Preview","text":"<p>Preview your changes locally:</p> <pre><code>uv run mkdocs serve\n# Open http://localhost:8000\n</code></pre> <p>The documentation auto-reloads when you save changes!</p>"},{"location":"HOW_TO_ADD_CONTENT/#building-the-documentation","title":"Building the Documentation","text":"<p>Build the complete documentation:</p> <pre><code>uv run mkdocs build --strict\n</code></pre> <p>This generates a <code>site/</code> directory with the full HTML documentation.</p>"},{"location":"HOW_TO_ADD_CONTENT/#tips","title":"Tips","text":"<ol> <li>Keep it simple: Documentation should be easy to follow</li> <li>Test your examples: Make sure code actually runs</li> <li>Use descriptive names: For files, variables, and sections</li> <li>Add context: Explain why, not just what</li> <li>Preview locally: Always check before committing</li> </ol>"},{"location":"HOW_TO_ADD_CONTENT/#getting-help","title":"Getting Help","text":"<ul> <li>MkDocs documentation: https://www.mkdocs.org/</li> <li>Material theme: https://squidfunk.github.io/mkdocs-material/</li> <li>mkdocs-jupyter: https://github.com/danielfrg/mkdocs-jupyter</li> </ul>"},{"location":"about/citation/","title":"Citation","text":"<p>If you use SeapoPym in your research, please cite our Model Description Paper:</p>"},{"location":"about/citation/#bibtex","title":"BibTeX","text":"<pre><code>@article{lehodey2026seapopym,\n  title={SeapoPym v0.1: Implementation of the SEAPODYM low and mid trophic levels in Python with a flexible optimisation framework},\n  author={Lehodey, J.V.},\n  journal={Geoscientific Model Development},\n  year={2026},\n  publisher={Copernicus Publications}\n}\n</code></pre>"},{"location":"about/citation/#text-format","title":"Text Format","text":"<p>Lehodey, J.V. (2026). SeapoPym v0.1: Implementation of the SEAPODYM low and mid trophic levels in Python with a flexible optimisation framework. Geoscientific Model Development.</p>"},{"location":"about/citation/#doi","title":"DOI","text":"<p>The paper DOI will be added here upon publication.</p>"},{"location":"about/citation/#software-citation","title":"Software Citation","text":"<p>For citing the software specifically:</p> <pre><code>@software{seapopym2026,\n  author = {Lehodey, Jules V.},\n  title = {SeapoPym: Spatial Ecosystem And POpulation DYnamics Model},\n  year = {2026},\n  url = {https://github.com/SeapoPym/seapopym},\n  version = {0.1.0}\n}\n</code></pre>"},{"location":"about/citation/#reproducibility","title":"Reproducibility","text":"<p>The exact code used in the GMD paper is available in this repository under the tag <code>v0.1.0</code>:</p> <pre><code>git clone https://github.com/SeapoPym/seapopym.git\ncd seapopym\ngit checkout v0.1.0\n</code></pre> <p>Notebooks reproducing the paper results are in the <code>paper_workflow/</code> directory.</p>"},{"location":"about/contributing/","title":"Contributing","text":"<p>We welcome contributions to SeapoPym! This page explains how to contribute.</p>"},{"location":"about/contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>\ud83d\udc1b Report bugs and issues</li> <li>\ud83d\udca1 Suggest new features or improvements</li> <li>\ud83d\udcd6 Improve documentation</li> <li>\ud83d\udd2c Add examples or tutorials</li> <li>\ud83d\udcbb Submit code contributions</li> </ul>"},{"location":"about/contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository on GitHub</li> <li>Clone your fork locally</li> <li>Create a new branch for your contribution</li> <li>Make your changes</li> <li>Submit a pull request</li> </ol> <pre><code># Fork on GitHub, then:\ngit clone https://github.com/YOUR-USERNAME/seapopym.git\ncd seapopym\ngit checkout -b feature/my-contribution\n\n# Make changes\n# ...\n\ngit add .\ngit commit -m \"Description of changes\"\ngit push origin feature/my-contribution\n</code></pre>"},{"location":"about/contributing/#development-setup","title":"Development Setup","text":"<p>Install development dependencies:</p> <pre><code>uv sync --group dev --group docs\n</code></pre> <p>This installs: - Testing: pytest, pytest-cov - Linting: ruff, mypy - Documentation: mkdocs, mkdocs-material</p>"},{"location":"about/contributing/#code-style","title":"Code Style","text":"<p>We use <code>ruff</code> for linting and formatting:</p> <pre><code># Format code\nuv run ruff format .\n\n# Check for issues\nuv run ruff check .\n</code></pre>"},{"location":"about/contributing/#running-tests","title":"Running Tests","text":"<p>Before submitting, ensure tests pass:</p> <pre><code># Run all tests\nuv run pytest packages/seapopym/tests/\n\n# With coverage\nuv run pytest --cov=seapopym packages/seapopym/tests/\n</code></pre>"},{"location":"about/contributing/#documentation","title":"Documentation","text":"<p>If you add features, please update documentation:</p> <pre><code># Build docs locally\nuv run mkdocs serve\n\n# View at http://localhost:8000\n</code></pre>"},{"location":"about/contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<p>A good pull request:</p> <ol> <li>Focuses on a single issue - One feature or bug fix per PR</li> <li>Includes tests - New features should have tests</li> <li>Updates documentation - Document new features</li> <li>Follows code style - Run ruff before submitting</li> <li>Has a clear description - Explain what and why</li> </ol>"},{"location":"about/contributing/#pr-template","title":"PR Template","text":"<pre><code>## Description\nBrief description of changes\n\n## Type of Change\n- [ ] Bug fix\n- [ ] New feature\n- [ ] Documentation update\n- [ ] Code refactoring\n\n## Testing\nHow were these changes tested?\n\n## Checklist\n- [ ] Tests pass\n- [ ] Documentation updated\n- [ ] Code formatted with ruff\n</code></pre>"},{"location":"about/contributing/#reporting-issues","title":"Reporting Issues","text":"<p>When reporting bugs, please include:</p> <ul> <li>Python version and operating system</li> <li>SeapoPym version</li> <li>Minimal code to reproduce the issue</li> <li>Expected vs actual behavior</li> <li>Error messages (if any)</li> </ul>"},{"location":"about/contributing/#feature-requests","title":"Feature Requests","text":"<p>For feature requests, please describe:</p> <ul> <li>The problem you're trying to solve</li> <li>Your proposed solution</li> <li>Any alternatives you've considered</li> <li>How this benefits other users</li> </ul>"},{"location":"about/contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>Be respectful and constructive. We aim to foster an open and welcoming environment for all contributors.</p>"},{"location":"about/contributing/#questions","title":"Questions?","text":"<p>Not sure where to start? Open a discussion on GitHub or reach out to the maintainers.</p>"},{"location":"about/contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under GPLv3+.</p>"},{"location":"about/license/","title":"License","text":"<p>SeapoPym is free and open-source software licensed under the GNU General Public License v3.0 or later (GPLv3+).</p>"},{"location":"about/license/#what-this-means","title":"What This Means","text":"<p>You are free to:</p> <ul> <li>\u2705 Use the software for any purpose</li> <li>\u2705 Study how the software works and modify it</li> <li>\u2705 Distribute copies of the software</li> <li>\u2705 Distribute modified versions of the software</li> </ul> <p>Under the following terms:</p> <ul> <li>\ud83d\udccb You must preserve the copyright notice and license</li> <li>\ud83d\udd13 You must make source code available when distributing</li> <li>\ud83d\udd04 Modified versions must also be licensed under GPLv3+</li> <li>\u2696\ufe0f You provide the software \"as is\" without warranties</li> </ul>"},{"location":"about/license/#full-license-text","title":"Full License Text","text":"<p>The complete license text is available in the LICENSE file in the repository.</p>"},{"location":"about/license/#why-gplv3","title":"Why GPLv3?","text":"<p>We chose GPLv3 to ensure that:</p> <ol> <li>Scientific software remains open and accessible</li> <li>Improvements and modifications benefit the community</li> <li>Research reproducibility is maintained</li> <li>Commercial use is possible while keeping code open</li> </ol>"},{"location":"about/license/#academic-use","title":"Academic Use","text":"<p>For academic research, this license ensures:</p> <ul> <li>You can use SeapoPym in your research freely</li> <li>You can modify it for your specific needs</li> <li>You must share your modifications if you distribute your code</li> <li>You should cite our work (see Citation)</li> </ul>"},{"location":"about/license/#commercial-use","title":"Commercial Use","text":"<p>Commercial use is permitted under GPLv3, but:</p> <ul> <li>Modifications must be released under GPLv3</li> <li>Source code must be provided to users</li> <li>The GPLv3 terms must be maintained</li> </ul> <p>For commercial licensing inquiries, please contact the authors.</p>"},{"location":"about/license/#dependencies","title":"Dependencies","text":"<p>SeapoPym depends on several open-source packages with compatible licenses:</p> <ul> <li>Xarray, Dask, NumPy: BSD-3-Clause</li> <li>Numba: BSD-2-Clause</li> <li>DEAP: LGPL-3.0</li> <li>Pint: BSD-3-Clause</li> </ul> <p>All dependencies are compatible with GPLv3.</p>"},{"location":"about/license/#questions","title":"Questions?","text":"<p>If you have questions about licensing, please open an issue on GitHub.</p>"},{"location":"api/seapopym/","title":"API Reference","text":"<p>Work in Progress</p> <p>The full API reference with docstrings is being built.</p>"},{"location":"examples/basic-example/","title":"Examples Overview","text":"<p>This section contains working examples demonstrating how to use SeapoPym.</p>"},{"location":"examples/basic-example/#available-examples","title":"Available Examples","text":""},{"location":"examples/basic-example/#1d-model-example","title":"1D Model Example","text":"<p>A complete tutorial showing:</p> <ul> <li>Data generation: Creating synthetic forcing data (temperature, primary production)</li> <li>Model configuration: Setting up functional groups with proper parameters</li> <li>Sequential execution: Running the model with context manager</li> <li>Parallel execution: Using Dask for distributed computing</li> <li>Time resolution: Degrading to weekly timesteps</li> <li>Visualization: Plotting biomass evolution over time</li> </ul> <p>View the 1D Model Example \u2192</p>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>SeapoPym uses uv for dependency management and is structured as a monorepo workspace.</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.12</li> <li>uv package manager</li> </ul>"},{"location":"getting-started/installation/#installing-uv","title":"Installing uv","text":"<p>If you don't have uv installed, follow the official installation guide:</p> <p>uv Installation Documentation \u2192</p>"},{"location":"getting-started/installation/#installing-seapopym","title":"Installing SeapoPym","text":""},{"location":"getting-started/installation/#from-source-recommended","title":"From Source (Recommended)","text":"<p>Clone the repository and install:</p> <pre><code>git clone https://github.com/SeapoPym/seapopym.git\ncd seapopym\nuv sync\n</code></pre> <p>This installs both <code>seapopym</code> and <code>seapopym-optimization</code> packages in editable mode.</p>"},{"location":"getting-started/installation/#installing-only-core-package","title":"Installing Only Core Package","text":"<p>If you only need the core model:</p> <pre><code>uv pip install -e packages/seapopym\n</code></pre>"},{"location":"getting-started/installation/#installing-both-packages","title":"Installing Both Packages","text":"<p>To install both core and optimization:</p> <pre><code>uv pip install -e packages/seapopym -e packages/seapopym-optimization\n</code></pre>"},{"location":"getting-started/installation/#verifying-installation","title":"Verifying Installation","text":"<p>Test that everything works:</p> <pre><code>import seapopym\nprint(f\"SeapoPym installed successfully!\")\n</code></pre>"},{"location":"getting-started/installation/#development-tools","title":"Development Tools","text":"<p>For contributing or running tests:</p> <pre><code>uv sync --group dev\n</code></pre> <p>This installs pytest, ruff, mypy, and other development tools.</p>"},{"location":"getting-started/installation/#documentation","title":"Documentation","text":"<p>To build the documentation locally:</p> <pre><code>uv sync --group docs\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Once installed, check out the Quick Start Guide to run your first model!</p>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>This guide will help you run your first SeapoPym No-Transport model.</p>"},{"location":"getting-started/quickstart/#basic-workflow","title":"Basic Workflow","text":"<p>The typical workflow with SeapoPym:</p> <ol> <li>Prepare forcing data (temperature, primary production)</li> <li>Configure the model (forcing parameters, functional groups)</li> <li>Run the simulation</li> <li>Analyze results</li> </ol>"},{"location":"getting-started/quickstart/#minimal-example","title":"Minimal Example","text":"<pre><code>import xarray as xr\nfrom seapopym.model import NoTransportModel\nfrom seapopym.configuration.no_transport import (\n    NoTransportConfiguration,\n    ForcingParameter,\n    ForcingUnit,\n    FunctionalGroupParameter,\n    FunctionalGroupUnit,\n    FunctionalTypeParameter,\n    MigratoryTypeParameter,\n)\n\n# 1. Load forcing data\nforcing_data = xr.open_dataset('forcing.nc')\n\n# 2. Configure forcing\nforcing = ForcingParameter(\n    temperature=ForcingUnit(forcing=forcing_data['temperature']),\n    primary_production=ForcingUnit(forcing=forcing_data['pp']),\n)\n\n# 3. Define functional groups\nfunctional_groups = FunctionalGroupParameter(\n    functional_group=[\n        FunctionalGroupUnit(\n            name=\"zooplankton\",\n            energy_transfert=0.1668,\n            migratory_type=MigratoryTypeParameter(day_layer=0, night_layer=0),\n            functional_type=FunctionalTypeParameter(\n                lambda_temperature_0=1/150,\n                gamma_lambda_temperature=0.15,\n                tr_0=10.38,\n                gamma_tr=-0.11,\n            ),\n        ),\n    ]\n)\n\n# 4. Create configuration\nconfig = NoTransportConfiguration(\n    forcing=forcing,\n    functional_group=functional_groups,\n)\n\n# 5. Run model with context manager\nwith NoTransportModel.from_configuration(configuration=config) as model:\n    model.run()\n    # Extract results (copy for use outside context)\n    biomass = model.state['biomass'].copy()\n\n# 6. Analyze\nprint(biomass)\nbiomass.mean(['Y', 'X']).plot(x='T')\n</code></pre>"},{"location":"getting-started/quickstart/#understanding-the-configuration","title":"Understanding the Configuration","text":""},{"location":"getting-started/quickstart/#functional-groups","title":"Functional Groups","text":"<p>Functional groups represent different biological components of the ecosystem (e.g., zooplankton, micronekton). Each functional group is defined by:</p> <ul> <li>Energy transfer (<code>energy_transfert</code>): Efficiency of energy transfer from primary production (typical values: 0.1-0.2)</li> <li>Migratory behavior (<code>migratory_type</code>): Vertical migration pattern defined by day and night depth layers</li> <li>Functional type (<code>functional_type</code>): Temperature response parameters that control how the group responds to environmental conditions</li> </ul> <pre><code>FunctionalGroupUnit(\n    name=\"zooplankton\",\n    energy_transfert=0.1668,                    # Energy transfer efficiency\n    migratory_type=MigratoryTypeParameter(\n        day_layer=0,                             # Depth layer during day\n        night_layer=0,                           # Depth layer during night\n    ),\n    functional_type=FunctionalTypeParameter(\n        lambda_temperature_0=1/150,              # Base mortality rate\n        gamma_lambda_temperature=0.15,           # Temperature effect on mortality\n        tr_0=10.38,                              # Reference temperature for recruitment\n        gamma_tr=-0.11,                          # Temperature sensitivity of recruitment\n    ),\n)\n</code></pre> <p>You can define multiple functional groups in a single simulation to represent different ecosystem components.</p>"},{"location":"getting-started/quickstart/#forcing-data","title":"Forcing Data","text":"<p>The No-Transport model requires two environmental forcing variables:</p> <pre><code>forcing = ForcingParameter(\n    temperature=ForcingUnit(forcing=temp_data),           # Sea temperature (\u00b0C)\n    primary_production=ForcingUnit(forcing=pp_data),      # Primary production (g/m\u00b2/day or similar)\n)\n</code></pre> <p>All forcing data must be <code>xarray.DataArray</code> with proper coordinates:</p> <ul> <li>T: Time coordinate</li> <li>Y: Latitude coordinate (can be single point for 1D models)</li> <li>X: Longitude coordinate (can be single point for 1D models)</li> <li>Z: Depth layer coordinate (for temperature)</li> </ul>"},{"location":"getting-started/quickstart/#understanding-the-model","title":"Understanding the Model","text":""},{"location":"getting-started/quickstart/#context-manager","title":"Context Manager","text":"<p>The recommended way to run SeapoPym models is with a context manager. This ensures automatic memory cleanup after execution, which is especially important for repeated simulations:</p> <pre><code>with NoTransportModel.from_configuration(configuration=config) as model:\n    model.run()\n    # Access results via model.state\n    biomass = model.state['biomass'].copy()  # Important: copy() for use outside context\n</code></pre> <p>The <code>copy()</code> method is important when extracting data for use outside the context manager.</p>"},{"location":"getting-started/quickstart/#model-state","title":"Model State","text":"<p>After running the model, results are stored in <code>model.state</code> as an <code>xarray.Dataset</code> containing:</p> <ul> <li>biomass: Total biomass per functional group (dimensions: functional_group, T, Y, X)</li> <li>recruited: Recruited biomass (dimensions: functional_group, T, Y, X)</li> <li>mortality_field: Mortality rate field (dimensions: functional_group, T, Y, X)</li> <li>primary_production_by_fgroup: Primary production allocated to each functional group</li> <li>And many other diagnostic variables...</li> </ul> <pre><code># Access results\nprint(model.state)\n\n# Extract specific variables\nbiomass = model.state['biomass']\nmean_biomass = biomass.mean(dim=['Y', 'X'])  # Average over space\n</code></pre>"},{"location":"getting-started/quickstart/#working-with-netcdf-data","title":"Working with NetCDF Data","text":"<p>Most oceanographic data comes in NetCDF format. Here's how to load and prepare your data:</p> <pre><code>import xarray as xr\n\n# Load data\nds = xr.open_dataset('ocean_data.nc')\n\n# Check contents\nprint(ds)\n\n# Extract variables\ntemperature = ds['temp']\npp = ds['primary_production']\n\n# Check coordinates match SeapoPym requirements (T, Y, X, Z)\nprint(temperature.coords)\n</code></pre>"},{"location":"getting-started/quickstart/#visualizing-results","title":"Visualizing Results","text":"<p>Plot your results using xarray's built-in plotting:</p> <pre><code>import matplotlib.pyplot as plt\n\n# Time series of spatially-averaged biomass\nbiomass.mean(dim=['Y', 'X']).plot(x='T', hue='functional_group')\nplt.title('Mean Biomass Over Time')\nplt.legend()\nplt.show()\n\n# Spatial distribution at one time step (for 2D/3D models)\nbiomass.isel(T=0, functional_group=0).plot()\nplt.title('Biomass Spatial Distribution')\nplt.show()\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Explore complete examples with notebooks</li> <li>Check the API Reference</li> </ul>"},{"location":"images/","title":"Images","text":"<p>This directory contains figures and images used in the documentation.</p>"},{"location":"images/#usage","title":"Usage","text":"<p>Reference images in documentation:</p> <pre><code>![Description](images/figure_name.png)\n</code></pre> <p>With caption:</p> <pre><code>&lt;figure markdown&gt;\n  ![Model schematic](images/model_diagram.png)\n  &lt;figcaption&gt;Schematic representation of the No-Transport model&lt;/figcaption&gt;\n&lt;/figure&gt;\n</code></pre>"},{"location":"images/#guidelines","title":"Guidelines","text":"<ul> <li>Use descriptive filenames (e.g., <code>biomass_timeseries.png</code>, <code>model_schematic.svg</code>)</li> <li>Prefer vector formats (SVG, PDF) for diagrams</li> <li>Use PNG for raster images (plots, screenshots)</li> <li>Optimize file sizes before committing</li> <li>Include alt text for accessibility</li> </ul>"},{"location":"notebooks/","title":"Notebooks","text":"<p>This directory contains Jupyter notebooks that are included in the documentation.</p>"},{"location":"notebooks/#usage","title":"Usage","text":"<p>Notebooks placed here are automatically rendered by MkDocs when referenced in the documentation.</p>"},{"location":"notebooks/#adding-a-notebook-to-documentation","title":"Adding a Notebook to Documentation","text":"<ol> <li>Place your <code>.ipynb</code> file in this directory</li> <li>Reference it in a markdown file:</li> </ol> <pre><code>See the complete example: [Basic Model](notebooks/basic_example.ipynb)\n</code></pre> <ol> <li>Or add directly to navigation in <code>mkdocs.yml</code>:</li> </ol> <pre><code>nav:\n  - Examples:\n      - Basic Example: notebooks/basic_example.ipynb\n</code></pre>"},{"location":"notebooks/#tips","title":"Tips","text":"<ul> <li>Clear all outputs before committing (<code>Cell \u2192 All Output \u2192 Clear</code>)</li> <li>Keep notebooks focused and concise</li> <li>Add markdown cells with explanations</li> <li>Include visualizations for clarity</li> </ul>"},{"location":"notebooks/example_1d_model/","title":"A simple 1D model implementation","text":"In\u00a0[1]: Copied! <pre>import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport xarray as xr\n\nfrom seapopym.configuration.no_transport import (\n    ForcingParameter,\n    ForcingUnit,\n    FunctionalGroupParameter,\n    FunctionalGroupUnit,\n    FunctionalTypeParameter,\n    MigratoryTypeParameter,\n    NoTransportConfiguration,\n)\nfrom seapopym.model import NoTransportModel\nfrom seapopym.standard.coordinate_authority import (\n    create_latitude_coordinate,\n    create_layer_coordinate,\n    create_longitude_coordinate,\n    create_time_coordinate,\n)\nfrom seapopym.standard.units import StandardUnitsLabels\n</pre> import matplotlib.pyplot as plt import numpy as np import pandas as pd import xarray as xr  from seapopym.configuration.no_transport import (     ForcingParameter,     ForcingUnit,     FunctionalGroupParameter,     FunctionalGroupUnit,     FunctionalTypeParameter,     MigratoryTypeParameter,     NoTransportConfiguration, ) from seapopym.model import NoTransportModel from seapopym.standard.coordinate_authority import (     create_latitude_coordinate,     create_layer_coordinate,     create_longitude_coordinate,     create_time_coordinate, ) from seapopym.standard.units import StandardUnitsLabels  In\u00a0[2]: Copied! <pre>T_axis = create_time_coordinate(pd.date_range(\"2000-01-01\", \"2001-01-01\", freq=\"D\"))\nn = int(T_axis.size)\nt = np.linspace(0, 1, n)\ntemperature = 15 + 15 * np.sin(2 * np.pi * t)\nprimary_production = 10 + 5 * np.sin(2 * np.pi * t * 365)\n\ntemperature = xr.DataArray(\n    dims=[\"T\", \"Y\", \"X\", \"Z\"],\n    coords={\n        \"T\": create_time_coordinate(\n            pd.date_range(\"2000-01-01\", \"2001-01-01\", freq=\"D\")\n        ),\n        \"Y\": create_latitude_coordinate([0]),\n        \"X\": create_longitude_coordinate([0]),\n        \"Z\": create_layer_coordinate([0]),\n    },\n    attrs={\"units\": StandardUnitsLabels.temperature},\n    data=temperature[:, np.newaxis, np.newaxis, np.newaxis],\n)\n\nplt.figure(figsize=(9, 3))\ntemperature[:, 0, 0].cf.plot.line(x=\"T\")\nplt.title(\"Temperature\")\nplt.show()\n\nprimary_production = xr.DataArray(\n    dims=[\"T\", \"Y\", \"X\"],\n    coords={\n        \"T\": create_time_coordinate(\n            pd.date_range(\"2000-01-01\", \"2001-01-01\", freq=\"D\")\n        ),\n        \"Y\": create_latitude_coordinate([0]),\n        \"X\": create_longitude_coordinate([0]),\n    },\n    attrs={\"units\": \"g/m2/day\"},\n    data=np.random.rand(367, 1, 1),\n)\n\nplt.figure(figsize=(9, 3))\nprimary_production.plot()\nplt.title(\"Primary Production\")\nplt.show()\n\ndataset = xr.Dataset(\n    {\"temperature\": temperature, \"primary_production\": primary_production}\n)\n</pre> T_axis = create_time_coordinate(pd.date_range(\"2000-01-01\", \"2001-01-01\", freq=\"D\")) n = int(T_axis.size) t = np.linspace(0, 1, n) temperature = 15 + 15 * np.sin(2 * np.pi * t) primary_production = 10 + 5 * np.sin(2 * np.pi * t * 365)  temperature = xr.DataArray(     dims=[\"T\", \"Y\", \"X\", \"Z\"],     coords={         \"T\": create_time_coordinate(             pd.date_range(\"2000-01-01\", \"2001-01-01\", freq=\"D\")         ),         \"Y\": create_latitude_coordinate([0]),         \"X\": create_longitude_coordinate([0]),         \"Z\": create_layer_coordinate([0]),     },     attrs={\"units\": StandardUnitsLabels.temperature},     data=temperature[:, np.newaxis, np.newaxis, np.newaxis], )  plt.figure(figsize=(9, 3)) temperature[:, 0, 0].cf.plot.line(x=\"T\") plt.title(\"Temperature\") plt.show()  primary_production = xr.DataArray(     dims=[\"T\", \"Y\", \"X\"],     coords={         \"T\": create_time_coordinate(             pd.date_range(\"2000-01-01\", \"2001-01-01\", freq=\"D\")         ),         \"Y\": create_latitude_coordinate([0]),         \"X\": create_longitude_coordinate([0]),     },     attrs={\"units\": \"g/m2/day\"},     data=np.random.rand(367, 1, 1), )  plt.figure(figsize=(9, 3)) primary_production.plot() plt.title(\"Primary Production\") plt.show()  dataset = xr.Dataset(     {\"temperature\": temperature, \"primary_production\": primary_production} ) In\u00a0[3]: Copied! <pre>day_layer = 0\nnight_layer = 0\ntr_0 = 10.38\ngamma_tr = -0.11\nlambda_temperature_0 = 1 / 150\ngamma_lambda_temperature = 0.15\n\nf_groups = FunctionalGroupParameter(\n    functional_group=[\n        FunctionalGroupUnit(\n            name=f\"D{day_layer}N{night_layer}\",\n            energy_transfert=0.1668,\n            migratory_type=MigratoryTypeParameter(\n                day_layer=day_layer, night_layer=night_layer\n            ),\n            functional_type=FunctionalTypeParameter(\n                lambda_temperature_0=lambda_temperature_0,\n                gamma_lambda_temperature=gamma_lambda_temperature,\n                tr_0=tr_0,\n                gamma_tr=gamma_tr,\n            ),\n        ),\n        FunctionalGroupUnit(\n            name=f\"D{day_layer}N{night_layer}_BIS\",\n            energy_transfert=0.1668 / 2,\n            migratory_type=MigratoryTypeParameter(\n                day_layer=day_layer, night_layer=night_layer\n            ),\n            functional_type=FunctionalTypeParameter(\n                lambda_temperature_0=lambda_temperature_0 / 2,\n                gamma_lambda_temperature=gamma_lambda_temperature / 2,\n                tr_0=tr_0 / 2,\n                gamma_tr=gamma_tr / 2,\n            ),\n        ),\n    ]\n)\n\np_param = ForcingParameter(\n    temperature=ForcingUnit(forcing=dataset[\"temperature\"]),\n    primary_production=ForcingUnit(forcing=dataset[\"primary_production\"]),\n)\n\nparameters = NoTransportConfiguration(forcing=p_param, functional_group=f_groups)\n</pre> day_layer = 0 night_layer = 0 tr_0 = 10.38 gamma_tr = -0.11 lambda_temperature_0 = 1 / 150 gamma_lambda_temperature = 0.15  f_groups = FunctionalGroupParameter(     functional_group=[         FunctionalGroupUnit(             name=f\"D{day_layer}N{night_layer}\",             energy_transfert=0.1668,             migratory_type=MigratoryTypeParameter(                 day_layer=day_layer, night_layer=night_layer             ),             functional_type=FunctionalTypeParameter(                 lambda_temperature_0=lambda_temperature_0,                 gamma_lambda_temperature=gamma_lambda_temperature,                 tr_0=tr_0,                 gamma_tr=gamma_tr,             ),         ),         FunctionalGroupUnit(             name=f\"D{day_layer}N{night_layer}_BIS\",             energy_transfert=0.1668 / 2,             migratory_type=MigratoryTypeParameter(                 day_layer=day_layer, night_layer=night_layer             ),             functional_type=FunctionalTypeParameter(                 lambda_temperature_0=lambda_temperature_0 / 2,                 gamma_lambda_temperature=gamma_lambda_temperature / 2,                 tr_0=tr_0 / 2,                 gamma_tr=gamma_tr / 2,             ),         ),     ] )  p_param = ForcingParameter(     temperature=ForcingUnit(forcing=dataset[\"temperature\"]),     primary_production=ForcingUnit(forcing=dataset[\"primary_production\"]), )  parameters = NoTransportConfiguration(forcing=p_param, functional_group=f_groups) In\u00a0[4]: Copied! <pre># Recommended: Using context manager for automatic memory cleanup\nwith NoTransportModel.from_configuration(configuration=parameters) as model:\n    model.run()\n    # Extract results while still in context\n    biomass = model.state[\"biomass\"].copy()  # Important: copy() for external use\n</pre> # Recommended: Using context manager for automatic memory cleanup with NoTransportModel.from_configuration(configuration=parameters) as model:     model.run()     # Extract results while still in context     biomass = model.state[\"biomass\"].copy()  # Important: copy() for external use In\u00a0[5]: Copied! <pre>plt.figure(figsize=(9, 3))\nbiomass.mean([\"Y\", \"X\"]).plot(label=\"Zoo Seapopym\", x=\"T\", hue=\"functional_group\")\nplt.legend()\nplt.title(\"Evolution of the biomass\")\nplt.show()\n</pre> plt.figure(figsize=(9, 3)) biomass.mean([\"Y\", \"X\"]).plot(label=\"Zoo Seapopym\", x=\"T\", hue=\"functional_group\") plt.legend() plt.title(\"Evolution of the biomass\") plt.show() In\u00a0[\u00a0]: Copied! <pre>from dask.distributed import Client\n\nclient = Client()\n</pre> from dask.distributed import Client  client = Client() In\u00a0[7]: Copied! <pre>p_param = ForcingParameter(\n    temperature=ForcingUnit(forcing=dataset[\"temperature\"].chunk()),\n    primary_production=ForcingUnit(forcing=dataset[\"primary_production\"].chunk()),\n    parallel=True,\n)\nparameters = NoTransportConfiguration(forcing=p_param, functional_group=f_groups)\n</pre> p_param = ForcingParameter(     temperature=ForcingUnit(forcing=dataset[\"temperature\"].chunk()),     primary_production=ForcingUnit(forcing=dataset[\"primary_production\"].chunk()),     parallel=True, ) parameters = NoTransportConfiguration(forcing=p_param, functional_group=f_groups) In\u00a0[8]: Copied! <pre># Run parallel model with context manager\nwith NoTransportModel.from_configuration(configuration=parameters) as model:\n    model.run()\n    # Extract results for plotting\n    parallel_biomass = model.state[\"biomass\"].load().copy()\n</pre> # Run parallel model with context manager with NoTransportModel.from_configuration(configuration=parameters) as model:     model.run()     # Extract results for plotting     parallel_biomass = model.state[\"biomass\"].load().copy() In\u00a0[9]: Copied! <pre>plt.figure(figsize=(9, 3))\nparallel_biomass.mean([\"Y\", \"X\"]).plot(\n    label=\"Zoo Seapopym\", x=\"T\", hue=\"functional_group\"\n)\nplt.legend()\nplt.title(\"Evolution of the biomass\")\nplt.show()\n</pre> plt.figure(figsize=(9, 3)) parallel_biomass.mean([\"Y\", \"X\"]).plot(     label=\"Zoo Seapopym\", x=\"T\", hue=\"functional_group\" ) plt.legend() plt.title(\"Evolution of the biomass\") plt.show() In\u00a0[10]: Copied! <pre>weekly_dataset = dataset.resample(T=\"1W\").mean().interpolate_na()\np_param = ForcingParameter(\n    temperature=ForcingUnit(forcing=weekly_dataset[\"temperature\"]),\n    primary_production=ForcingUnit(forcing=weekly_dataset[\"primary_production\"]),\n)\nparameters = NoTransportConfiguration(forcing=p_param, functional_group=f_groups)\n</pre> weekly_dataset = dataset.resample(T=\"1W\").mean().interpolate_na() p_param = ForcingParameter(     temperature=ForcingUnit(forcing=weekly_dataset[\"temperature\"]),     primary_production=ForcingUnit(forcing=weekly_dataset[\"primary_production\"]), ) parameters = NoTransportConfiguration(forcing=p_param, functional_group=f_groups) In\u00a0[11]: Copied! <pre>with NoTransportModel.from_configuration(configuration=parameters) as model:\n    model.run()\n    weekly_biomass = model.state[\"biomass\"].load().copy()\n</pre> with NoTransportModel.from_configuration(configuration=parameters) as model:     model.run()     weekly_biomass = model.state[\"biomass\"].load().copy() In\u00a0[12]: Copied! <pre>plt.figure(figsize=(9, 3))\nweekly_biomass.mean([\"Y\", \"X\"]).plot(\n    label=\"Zoo Seapopym\", x=\"T\", hue=\"functional_group\"\n)\nplt.legend()\nplt.title(\"Evolution of the biomass (Weekly)\")\nplt.show()\n</pre> plt.figure(figsize=(9, 3)) weekly_biomass.mean([\"Y\", \"X\"]).plot(     label=\"Zoo Seapopym\", x=\"T\", hue=\"functional_group\" ) plt.legend() plt.title(\"Evolution of the biomass (Weekly)\") plt.show()"},{"location":"notebooks/example_1d_model/#a-simple-1d-model-implementation","title":"A simple 1D model implementation\u00b6","text":""},{"location":"notebooks/example_1d_model/#generating-data-for-the-1d-simulation","title":"Generating data for the 1D simulation\u00b6","text":"<p>Let's generate some data for the 1D simulation. In this NoTransport model, only temperature and primary production are required. The temperature is generated as a sine wave with a period of 1 year and the primary production is randomly generated.</p>"},{"location":"notebooks/example_1d_model/#initialize-the-model","title":"Initialize the model\u00b6","text":"<p>First we set up the model parameters. We will define two functional groups:</p> <ul> <li>The first group uses the commonly used parameters for zooplankton in Seapodym LMTL</li> <li>The second is a fictitious group where all parameters are arbitrarily divided by 2, simply to demonstrate that multiple functional groups can be declared in a single simulation</li> </ul>"},{"location":"notebooks/example_1d_model/#run-the-model-with-context-manager","title":"Run the model with context manager\u00b6","text":"<p>The new recommended way to use Seapopym models is with a context manager. This ensures automatic memory cleanup after model execution, which is especially important for genetic algorithms or repeated simulations.</p>"},{"location":"notebooks/example_1d_model/#plotting-the-results","title":"Plotting the results\u00b6","text":""},{"location":"notebooks/example_1d_model/#the-biomass-evolution-over-t","title":"The biomass evolution over T\u00b6","text":""},{"location":"notebooks/example_1d_model/#and-now-lets-do-it-in-parallel","title":"And now let's do it in parallel\u00b6","text":""},{"location":"notebooks/example_1d_model/#the-biomass-evolution-over-t","title":"The biomass evolution over T\u00b6","text":""},{"location":"notebooks/example_1d_model/#show-weekly-model-configuration","title":"Show weekly model configuration\u00b6","text":""},{"location":"scripts/","title":"Scripts","text":"<p>This directory contains Python scripts that are referenced in the documentation.</p>"},{"location":"scripts/#usage","title":"Usage","text":"<p>Scripts here can be included in documentation pages using snippets:</p>"},{"location":"scripts/#full-script-inclusion","title":"Full Script Inclusion","text":"<pre><code>```python title=\"scripts/run_model.py\"\n```\n</code></pre>"},{"location":"scripts/#partial-inclusion-with-line-numbers","title":"Partial Inclusion with Line Numbers","text":"<pre><code>```python\n```\n</code></pre>"},{"location":"scripts/#guidelines","title":"Guidelines","text":"<ul> <li>Keep scripts self-contained and runnable</li> <li>Add docstrings and comments</li> <li>Include example usage in script docstrings</li> <li>Name scripts descriptively (e.g., <code>run_basic_model.py</code>)</li> </ul>"},{"location":"user-guide/configuration/","title":"Configuration","text":"<p>Model configuration in SeapoPym is handled through configuration classes that define parameters, forcing data, and model setup.</p>"},{"location":"user-guide/configuration/#configuration-structure","title":"Configuration Structure","text":"<p>Each model variant has its own configuration:</p> <pre><code>from seapopym.configuration.no_transport import Configuration\nfrom seapopym.configuration.acidity import Configuration as AcidityConfiguration\n</code></pre>"},{"location":"user-guide/configuration/#basic-configuration","title":"Basic Configuration","text":"<pre><code>from seapopym.configuration.no_transport import (\n    Configuration,\n    ForcingParameter,\n    FunctionalGroupParameter\n)\n\nconfig = Configuration(\n    forcing=forcing_params,\n    functional_groups=functional_group_params,\n    time_step=1.0,  # days\n    start_date=\"2000-01-01\",\n    end_date=\"2000-12-31\"\n)\n</code></pre>"},{"location":"user-guide/configuration/#forcing-parameters","title":"Forcing Parameters","text":"<p>Define environmental forcing data:</p> <pre><code>forcing = ForcingParameter(\n    temperature=temperature_ds,\n    primary_production=pp_ds,\n    day_length=daylen_ds,\n)\n</code></pre>"},{"location":"user-guide/configuration/#functional-group-parameters","title":"Functional Group Parameters","text":"<p>Define biological parameters for each functional group:</p> <pre><code>fg_params = FunctionalGroupParameter(\n    name=\"zooplankton\",\n    energy_transfer=0.15,\n    mortality_rate=0.1,\n    temperature_sensitivity=0.05,\n    production_efficiency=0.6,\n)\n</code></pre>"},{"location":"user-guide/configuration/#configuration-files","title":"Configuration Files","text":"<p>Save and load configurations:</p> <pre><code># Save to file\nconfig.to_yaml('config.yaml')\n\n# Load from file\nconfig = Configuration.from_yaml('config.yaml')\n</code></pre>"},{"location":"user-guide/configuration/#validation","title":"Validation","text":"<p>Configurations are automatically validated:</p> <pre><code>from seapopym.configuration.validation import validate_configuration\n\n# Raises error if invalid\nvalidate_configuration(config)\n</code></pre> <p>For detailed parameter descriptions and examples, see the API Reference.</p>"},{"location":"user-guide/core-model/","title":"No-Transport Model","text":"<p>The No-Transport Model is the simplest configuration of SeapoPym. It simulates local ecosystem dynamics without advection or diffusion.</p>"},{"location":"user-guide/core-model/#model-overview","title":"Model Overview","text":"<p>The No-Transport model simulates:</p> <ul> <li>Primary production uptake by functional groups</li> <li>Temperature-dependent metabolism</li> <li>Natural mortality</li> <li>Biomass dynamics over time</li> </ul> <p>This model is ideal for: - 1D vertical simulations - Understanding fundamental processes - Parameter sensitivity studies - Educational purposes</p>"},{"location":"user-guide/core-model/#model-equations","title":"Model Equations","text":"<p>At each time step and location, the model computes:</p>"},{"location":"user-guide/core-model/#biomass-change","title":"Biomass Change","text":"<pre><code>dB/dt = Production - Mortality\n</code></pre> <p>Where: - <code>B</code>: Biomass (mg C m\u207b\u00b3) - <code>Production</code>: Growth from primary production uptake - <code>Mortality</code>: Natural and temperature-dependent losses</p>"},{"location":"user-guide/core-model/#production","title":"Production","text":"<pre><code>Production = PP \u00d7 Energy_Transfer \u00d7 Temperature_Effect \u00d7 Day_Length_Effect\n</code></pre> <p>Where: - <code>PP</code>: Primary production (mg C m\u207b\u00b3 day\u207b\u00b9) - <code>Energy_Transfer</code>: Trophic transfer efficiency (0-1) - <code>Temperature_Effect</code>: Temperature dependence factor - <code>Day_Length_Effect</code>: Light availability factor</p>"},{"location":"user-guide/core-model/#mortality","title":"Mortality","text":"<pre><code>Mortality = B \u00d7 Mortality_Rate \u00d7 Temperature_Effect\n</code></pre>"},{"location":"user-guide/core-model/#using-the-model","title":"Using the Model","text":""},{"location":"user-guide/core-model/#basic-usage","title":"Basic Usage","text":"<pre><code>from seapopym.model import NoTransportModel\nfrom seapopym.configuration.no_transport import Configuration\n\n# Create configuration\nconfig = Configuration(...)\n\n# Instantiate model\nmodel = NoTransportModel(config)\n\n# Run simulation\nresults = model.run()\n</code></pre>"},{"location":"user-guide/core-model/#model-configuration","title":"Model Configuration","text":"<p>The model requires three main components:</p>"},{"location":"user-guide/core-model/#1-forcing-data","title":"1. Forcing Data","text":"<p>Environmental drivers:</p> <pre><code>from seapopym.configuration.no_transport import ForcingParameter\n\nforcing = ForcingParameter(\n    temperature=temp_array,       # \u00b0C\n    primary_production=pp_array,  # mg C m\u207b\u00b3 day\u207b\u00b9\n    day_length=daylen_array,      # hours\n)\n</code></pre>"},{"location":"user-guide/core-model/#2-functional-groups","title":"2. Functional Groups","text":"<p>Ecological components:</p> <pre><code>from seapopym.configuration.no_transport import FunctionalGroupParameter\n\nzooplankton = FunctionalGroupParameter(\n    name=\"zooplankton\",\n    energy_transfer=0.15,          # 15% transfer efficiency\n    mortality_rate=0.1,            # 0.1 day\u207b\u00b9\n    temperature_sensitivity=0.05,  # Temperature response\n    production_efficiency=0.6,     # Production efficiency\n)\n</code></pre>"},{"location":"user-guide/core-model/#3-complete-configuration","title":"3. Complete Configuration","text":"<pre><code>config = Configuration(\n    forcing=forcing,\n    functional_groups=[zooplankton],\n    time_step=1.0,                # days\n    start_date=\"2000-01-01\",\n    end_date=\"2000-12-31\",\n)\n</code></pre>"},{"location":"user-guide/core-model/#model-outputs","title":"Model Outputs","text":"<p>The model returns an <code>xarray.Dataset</code> with:</p>"},{"location":"user-guide/core-model/#variables","title":"Variables","text":"<ul> <li>biomass: Biomass per functional group (mg C m\u207b\u00b3)</li> <li>production: Production rate (mg C m\u207b\u00b3 day\u207b\u00b9)</li> <li>mortality: Mortality rate (mg C m\u207b\u00b3 day\u207b\u00b9)</li> <li>recruitment: Recruitment from production (mg C m\u207b\u00b3 day\u207b\u00b9)</li> </ul>"},{"location":"user-guide/core-model/#coordinates","title":"Coordinates","text":"<ul> <li>time: Time steps</li> <li>functional_group: Functional group names</li> <li>lat, lon: Spatial coordinates (if applicable)</li> <li>depth: Depth levels (if applicable)</li> </ul>"},{"location":"user-guide/core-model/#accessing-results","title":"Accessing Results","text":"<pre><code>results = model.run()\n\n# Get biomass\nbiomass = results['biomass']\n\n# Select specific functional group\nzoop_biomass = biomass.sel(functional_group='zooplankton')\n\n# Time series at a location\ntime_series = zoop_biomass.sel(lat=30.0, lon=-120.0, method='nearest')\ntime_series.plot()\n\n# Spatial average\nspatial_mean = zoop_biomass.mean(dim=['lat', 'lon'])\nspatial_mean.plot()\n</code></pre>"},{"location":"user-guide/core-model/#parameter-sensitivity","title":"Parameter Sensitivity","text":"<p>The model behavior is sensitive to key parameters:</p>"},{"location":"user-guide/core-model/#energy-transfer","title":"Energy Transfer","text":"<p>Controls growth efficiency: - Higher values \u2192 more biomass production - Typical range: 0.05 - 0.25</p>"},{"location":"user-guide/core-model/#mortality-rate","title":"Mortality Rate","text":"<p>Controls biomass loss: - Higher values \u2192 lower equilibrium biomass - Typical range: 0.01 - 0.5 day\u207b\u00b9</p>"},{"location":"user-guide/core-model/#temperature-sensitivity","title":"Temperature Sensitivity","text":"<p>Controls metabolic response: - Higher values \u2192 stronger temperature effects - Typical range: 0.01 - 0.1</p>"},{"location":"user-guide/core-model/#performance","title":"Performance","text":""},{"location":"user-guide/core-model/#numba-compilation","title":"Numba Compilation","text":"<p>Core functions are JIT-compiled for speed:</p> <pre><code># First run compiles (takes longer)\nresults = model.run()\n\n# Subsequent runs are fast\nresults2 = model.run()\n</code></pre>"},{"location":"user-guide/core-model/#dask-parallelization","title":"Dask Parallelization","text":"<p>For large spatial domains:</p> <pre><code>from dask.distributed import Client\n\n# Start Dask cluster\nclient = Client(n_workers=4)\n\n# Load data with chunks\nforcing_data = xr.open_dataset(\n    'forcing.nc',\n    chunks={'time': 12, 'lat': 90, 'lon': 180}\n)\n\n# Model automatically parallelizes\nresults = model.run()\n</code></pre>"},{"location":"user-guide/core-model/#advanced-usage","title":"Advanced Usage","text":""},{"location":"user-guide/core-model/#custom-time-stepping","title":"Custom Time Stepping","text":"<pre><code># Manual time stepping\nmodel = NoTransportModel(config)\n\nfor t in range(n_timesteps):\n    state = model.step(state, t)\n    # Custom analysis at each step\n</code></pre>"},{"location":"user-guide/core-model/#state-inspection","title":"State Inspection","text":"<pre><code>def callback(state, time_index):\n    \"\"\"Called after each time step\"\"\"\n    biomass = state['biomass']\n    print(f\"Time {time_index}: Max biomass = {biomass.max().values}\")\n\nmodel = NoTransportModel(config, callback=callback)\nresults = model.run()\n</code></pre>"},{"location":"user-guide/core-model/#validation","title":"Validation","text":"<p>Always validate your model setup:</p> <pre><code>from seapopym.configuration.validation import validate_configuration\n\n# Raises informative errors if configuration is invalid\nvalidate_configuration(config)\n</code></pre>"},{"location":"user-guide/core-model/#next-steps","title":"Next Steps","text":"<ul> <li>See Configuration Guide for detailed parameters</li> <li>Explore Examples with real data</li> <li>Check API Reference for all options</li> </ul>"}]}